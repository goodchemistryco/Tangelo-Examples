<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>qpu_connection</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark border-bottom">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Examples</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Chemistry</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/chemistry/excited_states.html" class="sidebar-item-text sidebar-link">Excited States in Tangelo</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/chemistry/qchem_modelling_basics.html" class="sidebar-item-text sidebar-link">Quantum Chemistry: Modelling Basics</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Hardware Experiments</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/hardware_experiments/berylium_ibm_quantum.html" class="sidebar-item-text sidebar-link">Combining Tangelo, QEMIST Cloud and IBM Quantum for quantum experiments</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/hardware_experiments/overview_endtoend.html" class="sidebar-item-text sidebar-link">End-to-end Quantum Chemistry Workflow on Quantum Hardware with Tangelo</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/hardware_experiments/qemist_cloud_hardware_experiments_braket.html" class="sidebar-item-text sidebar-link">Submitting quantum hardware experiments with Tangelo and QEMIST Cloud</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Measurement Reduction</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/measurement_reduction/classical_shadows.html" class="sidebar-item-text sidebar-link">Classical Shadows</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">Problem Decomposition</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/problem_decomposition/dmet.html" class="sidebar-item-text sidebar-link">Density Matrix Embedding Theory (DMET)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/problem_decomposition/mifno.html" class="sidebar-item-text sidebar-link">Exploring the Method of Increments with QEMIST Cloud and Tangelo</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/problem_decomposition/oniom.html" class="sidebar-item-text sidebar-link">ONIOM Problem Decomposition - A use case for an acetic acid molecule in water</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">Variational Methods</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/variational_methods/adapt.html" class="sidebar-item-text sidebar-link">ADAPT-VQE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/variational_methods/iqcc_using_clifford.html" class="sidebar-item-text sidebar-link">Iterative Qubit Coupled Cluster using only Clifford circuits</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/variational_methods/vqe_custom_ansatz_hamiltonian.html" class="sidebar-item-text sidebar-link">Tangelo VQE: Custom Ansatz and qubit Hamiltonian Tutorial</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/variational_methods/vqe.html" class="sidebar-item-text sidebar-link">VQE with Tangelo</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">Workflow Basics</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/workflow_basics/3.noisy_simulation.html" class="sidebar-item-text sidebar-link">Linq: noisy simulation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/workflow_basics/1.the_basics.html" class="sidebar-item-text sidebar-link">Linq: the basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../examples/workflow_basics/2.qpu_connection.html" class="sidebar-item-text sidebar-link active">Using quantum cloud services API with Tangelo</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="using-quantum-cloud-services-api-with-tangelo" class="level1">
<h1>Using quantum cloud services API with Tangelo</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://colab.research.google.com/github/goodchemistryco/Tangelo-Examples/blob/main/examples/workflow_basics/2.qpu_connection.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Open In Colab</figcaption><p></p>
</figure>
</div>
<p>This notebook elaborates on how the <code>tangelo.linq</code> module can facilitate hardware experiments by integrating the API provided by some hardware providers (IonQ, Honeywell…) or broader quantum cloud services providers such as Azure Quantum or Braket. We essentially provide convenience wrappers to these APIs: the API of your favorite cloud provider is still called underneath, using your own credentials.</p>
<p>This notebook should be relevant to Tangelo users that prefer to install all the dependencies on their machine, use their own credentials, and be billed directly by the target quantum cloud service(s).</p>
<p>This approach is an alternative to using <a href="https://goodchemistry.com/qemist-cloud/">QEMIST Cloud</a>, which we intend to make a single and convenient entry point to reach many different platforms. What’s pretty cool with this other option is that users do not have to set up the environment required by the quantum cloud(s) of their choice (e.g Braket, Azure Quantum, etc) or even an account with those services. A QEMIST Cloud account provides a single entry point enabling you to reach all of them, and pay with your QEMIST Cloud credits.</p>
<section id="table-of-contents" class="level2">
<h2 class="anchored" data-anchor-id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#1">1. IonQ Rest API</a>
<ul>
<li><a href="#1.1">1.1 References</a></li>
<li><a href="#1.2">1.2 Environment</a></li>
<li><a href="#1.3">1.3 Quantum Circuit</a></li>
<li><a href="#1.4">1.4 IonQConnection class</a></li>
</ul></li>
<li><a href="#2">2. Azure Quantum</a></li>
<li><a href="#3">3. Braket</a></li>
</ul>
<hr>
</section>
<section id="requirements" class="level2">
<h2 class="anchored" data-anchor-id="requirements">Requirements</h2>
<ul>
<li>Tangelo needs to be installed in your environment. The cell below does this installation for you if it is not found.</li>
<li>Ensure you have valid ID tokens and logins for the services of your choice (IonQ, Braket…), and that your environment is ready to use them (e.g install their SDK and dependencies according to the instructions they provide)</li>
</ul>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Installation of tangelo if not already installed.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> tangelo</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> ModuleNotFoundError:</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">!</span>pip install git<span class="op">+</span>https:<span class="op">//</span>github.com<span class="op">/</span>goodchemistryco<span class="op">/</span>Tangelo.git<span class="op">@</span>develop  <span class="op">--</span>quiet</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ionq-rest-api" class="level2">
<h2 class="anchored" data-anchor-id="ionq-rest-api">1. IonQ Rest API <a class="anchor" id="1"></a></h2>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">1.1 References <a class="anchor" id="1.1"></a></h3>
<p>Tangelo provides a few Python wrappers around the REST API provided by IonQ, to facilitate job submission and monitoring. The most up-to-date list of supported features and information regarding the IonQ API is available at https://docs.ionq.co</p>
</section>
<section id="environment" class="level3">
<h3 class="anchored" data-anchor-id="environment">1.2 Environment <a class="anchor" id="1.2"></a></h3>
<p>Users allowed to use the IonQ API should have an ID token, e.g a string of alphanumeric characters and dashes, which can be obtained through the <a href="https://cloud.ionq.com/">IonQ dashboard</a>. Users need to set their <code>IONQ_APIKEY</code> environment variable to this value; here are two ways to do it:</p>
<ul>
<li>in your terminal (<code>export IONQ_APIKEY=&lt;value&gt;</code>)</li>
<li>or, in your Python script (<code>os.environ['IONQ_APIKEY'] = &lt;value&gt;</code>)</li>
</ul>
<p>Here’s an example of what it could look like for you (make sure you use a valid key, or you’ll get an “unauthorized” error :) )</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">"IONQ_APIKEY"</span>] <span class="op">=</span> <span class="st">'2T14z1YQEzMLCwuYM110oXPDT2h850E4'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="quantum-circuit" class="level3">
<h3 class="anchored" data-anchor-id="quantum-circuit">1.3 Quantum circuit <a class="anchor" id="1.3"></a></h3>
<p>IonQ uses a JSON representation for quantum circuits, which <code>tangelo.linq</code> can generate from an abstract circuit, using the <code>translator</code> module. IonQ also offers partial support for other common formats (OpenQASM, …). For this example, we’ll work with their JSON format, which is pretty much nested lists and dictionaries. For more detailed and up-to-date information, check out their <a href="https://docs.ionq.com/#tag/quantum_programs">documentation</a>.</p>
<p>Below, we show how users can produce a simple quantum circuit in the JSON format:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tangelo.linq <span class="im">import</span> Circuit, Gate, translate_circuit</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>circ1 <span class="op">=</span> Circuit([Gate(<span class="st">"H"</span>, <span class="dv">0</span>), Gate(<span class="st">"X"</span>, <span class="dv">1</span>)])</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>json_circ1 <span class="op">=</span> translate_circuit(circ1, target<span class="op">=</span><span class="st">"ionq"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(json_circ1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'qubits': 2, 'circuit': [{'gate': 'h', 'targets': [0]}, {'gate': 'x', 'targets': [1]}]}</code></pre>
</div>
</div>
<p>Our convenience wrappers below do not require users to translate their circuit into the IonQ format: providing a circuit in the Tangelo format is enough.</p>
</section>
<section id="ionqconnection-class" class="level3">
<h3 class="anchored" data-anchor-id="ionqconnection-class">1.4 IonQConnection class <a class="anchor" id="1.4"></a></h3>
<p>The <code>IonQConnection</code> class encapsulates a collection of wrappers to the IonQ REST API. Internally, it stores information about the endpoint and the authorization header, containing your identification token. This class only is instantiated succesfully if your ID token has been set properly.</p>
<p>More generally speaking, all calls to the REST API are checked for errors, and would return the IonQ error message corresponding to the unsuccessful request.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tangelo.linq.qpu_connection <span class="im">import</span> IonQConnection</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>ionq_connection <span class="op">=</span> IonQConnection()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
<section id="backend-info" class="level4">
<h4 class="anchored" data-anchor-id="backend-info">Backend info</h4>
<p>Tangelo’s <code>get_backend_info</code> method allows us to return some information about all the devices listed on IonQ’s platform. Tangelo currently returns this info inside a <code>pandas.DataFrame</code> object, to help with visualization.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> ionq_connection.get_backend_info()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>res <span class="co"># to display the dataframe neatly in the notebook</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>backend</th>
      <th>qubits</th>
      <th>status</th>
      <th>last updated</th>
      <th>average queue time</th>
      <th>characterization_url</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>qpu.harmony</td>
      <td>11</td>
      <td>available</td>
      <td>2022-07-29 06:16:04</td>
      <td>735</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>simulator</td>
      <td>19</td>
      <td>available</td>
      <td>2022-07-29 06:16:04</td>
      <td>0</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>qpu.s11</td>
      <td>11</td>
      <td>available</td>
      <td>2022-07-29 06:16:04</td>
      <td>735</td>
      <td>/characterizations/e8d7ac98-b7c2-443c-9eb8-105...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>This information can help users to filter or sort devices according to their needs. For example, filtering out devices who do not have enough qubits for the target experiment, as well as the unavailable devices.</p>
<p>We can also retrieve “characterizations”: a snapshot of the IonQ platform’s performance at a moment in time. We can use the <code>get_characterization</code> method with either a backend string (ex: <code>qpu.harmony</code> or <code>simulator</code>) or a characterization url, if available (see dataframe above).</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>charac_dict <span class="op">=</span> ionq_connection.get_characterization(<span class="st">'qpu.s11'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(charac_dict[<span class="st">'fidelity'</span>])</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(charac_dict[<span class="st">'timing'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'1q': {'mean': 0.9979}, '2q': {'mean': 0.961}, 'spam': {'mean': 0.99752}}
{'t1': 10000, 't2': 0.2, '1q': 1e-05, '2q': 0.0002, 'readout': 0.00013, 'reset': 2e-05}</code></pre>
</div>
</div>
<p>This information can help users having a better understanding of the capabilities of a device, and anticipate its performance on their usecases.</p>
<p>Please check <a href="https://docs.ionq.com/#tag/characterizations">IonQ’s documentation</a> to confirm what these quantities mean, and the units in which they are expressed in.</p>
</section>
<section id="job-submission" class="level4">
<h4 class="anchored" data-anchor-id="job-submission">Job submission</h4>
<p>Job submission can be achieved through the <code>job_submit</code> method, which attempts to submit a job on a backend (simulator or QPU), and returns a job ID if submission was succesful.</p>
<p>This method takes input arguments that need to be provided by the user:</p>
<ul>
<li>the target backend (a string such as ‘simulator’ or one that refers to a QPU)</li>
<li>the quantum circuit (in Tangelo format)</li>
<li>the number of shots required</li>
<li>a name for your job</li>
<li>any other option as key arguments (see source code and IonQ documentation)</li>
</ul>
<p>Assuming a valid API key, we can then submit a simple job targeting their statevector simulator. The status of the job may be in various states (queued, ready, running …).</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>job_id <span class="op">=</span> ionq_connection.job_submit(<span class="st">'simulator'</span>, circ1, <span class="dv">100</span>, <span class="st">'test_json_job'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Job submission  ID :: dfb38687-8c70-4b40-833d-c6166a902efe   status :: ready</code></pre>
</div>
</div>
</section>
<section id="job-history-and-job-info" class="level4">
<h4 class="anchored" data-anchor-id="job-history-and-job-info">Job history and job info</h4>
<p>Users can access their job history and info through the <code>job_get_history</code> and <code>job_status</code> methods, shown as below. But IonQ also provides an <a href="https://cloud.ionq.com/">online dashboard</a>, which may be more convenient to you.</p>
<p>Depending on the timing of your REST requests, the job info may differ widely, from a failed job to a completed job with results included.</p>
<div class="cell" data-scrolled="true" data-execution_count="8">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>job_status <span class="op">=</span> ionq_connection.job_status(job_id)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(job_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Job info    ID:: dfb38687-8c70-4b40-833d-c6166a902efe    status :: completed 
{'status': 'completed', 'name': 'test_json_job', 'target': 'simulator', 'predicted_execution_time': 4, 'execution_time': 19, 'id': 'dfb38687-8c70-4b40-833d-c6166a902efe', 'qubits': 2, 'type': 'circuit', 'request': 1659075527, 'start': 1659075529, 'response': 1659075529, 'gate_counts': {'1q': 2}, 'data': {'histogram': {'2': 0.5, '3': 0.5}, 'registers': None}}</code></pre>
</div>
</div>
<p>The output of <code>job_get_history</code> should at least feature the job we just submitted, and can also show a number of previous jobs run under your account. The output is a <code>pandas</code> dataframe, in order to facilitate parsing of information:</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>job_history <span class="op">=</span> ionq_connection.job_get_history()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>job_history[:<span class="dv">5</span>] <span class="co"># Here we only display info of the last 5 jobs run</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>status</th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dfb38687-8c70-4b40-833d-c6166a902efe</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>1</th>
      <td>b486e66a-2ae2-4275-8c9e-015a751dcbbe</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5dea41e0-ce02-4193-8e50-e48fc0cd0c22</td>
      <td>canceled</td>
      <td>qpu.harmony</td>
    </tr>
    <tr>
      <th>3</th>
      <td>34cc2763-f617-427a-8b3a-621086946a3b</td>
      <td>completed</td>
      <td>qpu.harmony</td>
    </tr>
    <tr>
      <th>4</th>
      <td>777237b4-79e8-44d0-8ac6-762f24864e7a</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="job-results" class="level4">
<h4 class="anchored" data-anchor-id="job-results">Job results</h4>
<p>The method <code>job_results</code> provides a wrapper to a blocking call, querying for the state of the target job at regular intervals, attempting to retrieve the results. If the job has successfully completed, this method returns a dictionary with bitstring keys (ex: <code>01</code>, <code>11</code>…)</p>
<p>IonQ raw results use a “most-significant qubit first” representation, encoded as an integer, but Tangelo returns them as a bitstring in least-significant order (e.g we read left-to-right), to stay consistant with its own format and what is common across other cloud services.</p>
<p>For our example circuit, IonQ’s raw results would return <code>{'2': 0.5, '3': 0.5}</code> with an exact simulator. - 2 is ‘10’ in binary, indicating <span class="math inline">\(q_0\)</span> mesured in state <span class="math inline">\(|0\rangle\)</span>, and <span class="math inline">\(q_1\)</span> in state <span class="math inline">\(|1\rangle\)</span> - 3 is ‘11’ in binary, indicating <span class="math inline">\(q_0\)</span> mesured in state <span class="math inline">\(|1\rangle\)</span>, and <span class="math inline">\(q_1\)</span> in state <span class="math inline">\(|1\rangle\)</span></p>
<p>Tangelo returns <code>{'01': 0.5, '11': 0.5}</code>.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> ionq_connection.job_results(job_id)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Job info    ID:: dfb38687-8c70-4b40-833d-c6166a902efe    status :: completed 
{'01': 0.5, '11': 0.5}</code></pre>
</div>
</div>
</section>
<section id="job-cancel-delete" class="level4">
<h4 class="anchored" data-anchor-id="job-cancel-delete">Job cancel / delete</h4>
<p>A wrapper called <code>job_cancel</code> provides a method to cancel before execution (if the job hasn’t run yet), or delete a job from the history. The cell below cancels / deletes the previously-submitted job: it therefore should not appear in the history anymore.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>ionq_connection.job_cancel(job_id)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>job_history <span class="op">=</span> ionq_connection.job_get_history()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>job_history</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Job cancel  ID :: dfb38687-8c70-4b40-833d-c6166a902efe   status :: deleted </code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="11">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>status</th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>b486e66a-2ae2-4275-8c9e-015a751dcbbe</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5dea41e0-ce02-4193-8e50-e48fc0cd0c22</td>
      <td>canceled</td>
      <td>qpu.harmony</td>
    </tr>
    <tr>
      <th>2</th>
      <td>34cc2763-f617-427a-8b3a-621086946a3b</td>
      <td>completed</td>
      <td>qpu.harmony</td>
    </tr>
    <tr>
      <th>3</th>
      <td>777237b4-79e8-44d0-8ac6-762f24864e7a</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>4</th>
      <td>9da8401b-5334-4358-ab3f-ddcd3e2f1ff4</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>5</th>
      <td>9dd67d5f-aa29-46fb-a707-1858d022aacc</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>6</th>
      <td>45e33c7e-33bd-43d6-aef3-87b78e7bdd77</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>7</th>
      <td>be130388-8daf-49dd-8e17-5b4c5274d69f</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2c3526c0-44d4-4573-9bc1-c39a5c0135ae</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>9</th>
      <td>373f3175-e7be-48cd-bf47-ac5e331a0eb0</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>10</th>
      <td>b567e71c-fa20-4fb9-9ce9-62521de7a1ec</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>11</th>
      <td>b1743e6d-359c-4175-bf56-99b8662fdcaf</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>12</th>
      <td>f9865e17-25d8-4d84-b8f8-dc31e07a8fae</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>13</th>
      <td>e54a5d12-65e4-4fef-8774-68584ccad94c</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
    <tr>
      <th>14</th>
      <td>be0c8bc7-5539-4e4f-b12c-5370a525076d</td>
      <td>completed</td>
      <td>simulator</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="azure-quantum" class="level2">
<h2 class="anchored" data-anchor-id="azure-quantum">2. Azure Quantum <a class="anchor" id="2"></a></h2>
<p>Though this package does not currently provide a way to directly submit jobs through Microsoft’s Azure Quantum cloud services, the <code>translate_qsharp</code> function in the <code>translator</code> module can parse an abstract circuit and generate Q# code that can be written to file.</p>
<p>Azure quantum also supports circuits in a number of other formats (<code>cirq</code>, <code>qiskit</code>, IonQ…), which means any of your favorite translate function from <code>tangelo.linq</code> can come in handy: check out their <a href="https://docs.microsoft.com/en-us/azure/quantum/concepts-circuits">documentation</a> for the most reliable information.</p>
<p>Our generated Q# code is compatible with both the local QDK simulator (good for testing before submitting to an actual QPU) or by Azure Quantum. Submission through Azure Quantum will require the user to have an account on Azure, install the local CLI and Python dependencies.</p>
<p>For an example of how one can use this package to first generate circuits, and then submit jobs through Azure quantum, please look into the <code>example/qsharp</code> folder of this package.</p>
</section>
<section id="braket" class="level2">
<h2 class="anchored" data-anchor-id="braket">3. Braket <a class="anchor" id="3"></a></h2>
<p>Tangelo currently offers to generate a quantum circuit in the Braket format using the <code>translate_braket</code> function from the translator module, and may provide convenience wrappers later on around Braket’s API. Once you have a circuit in Braket’s format, you can pretty much do anything you want using their SDK.</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tangelo.linq <span class="im">import</span> Gate, Circuit</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tangelo.linq.translator <span class="im">import</span> translate_braket</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>abstract_circuit <span class="op">=</span> Circuit([Gate(<span class="st">'H'</span>,<span class="dv">0</span>), Gate(<span class="st">'CNOT'</span>, target<span class="op">=</span><span class="dv">1</span>, control<span class="op">=</span><span class="dv">0</span>)])</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>braket_circuit <span class="op">=</span> translate_braket(abstract_circuit)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(braket_circuit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>T  : |0|1|
          
q0 : -H-C-
        | 
q1 : ---X-

T  : |0|1|</code></pre>
</div>
</div>
<p>Users can use the <a href="https://github.com/aws/amazon-braket-sdk-python/">Braket python SDK</a> provided by Amazon (<code>amazon-braket-sdk</code>) to submit experiments to backends available in the Braket cloud and retrieve results, or simply run them using the <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-get-started-run-circuit.html">LocalSimulator</a> that comes with the SDK.</p>
<p>Braket relies on you installing the AWS CLI, and assumes you have an IAM user with proper permissions (Braket, S3 buckets). The Braket services can also be accessed through your web browser, which gives you access to managed python notebooks.</p>
<blockquote class="blockquote">
<p>Signing up for <a href="https://goodchemistry.com/qemist-cloud/">QEMIST Cloud</a> allows you to otherwise use a single entry-point, does not require you to install Braket dependencies, and pay with your QEMIST Cloud credits.</p>
</blockquote>
<p>This simple <a href="https://github.com/aws/amazon-braket-sdk-python/blob/main/examples/bell.py">Braket example</a> shows how you can retrieve measurement counts. Bitstrings are read left-to-right (first is qubit 0, then qubit 1…).</p>
<p>The <code>measurement_counts</code> method returns an object of the built-in Python <code>Counter</code> class.</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Illustrates what Braket may return for a 2-qubit circuit, run with 100 shots.</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>counts <span class="op">=</span> Counter({<span class="st">'00'</span>:<span class="dv">53</span>, <span class="st">'11'</span>:<span class="dv">47</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This object can then be passed to other Tangelo functions right away. Below, we show how to compute an expectation value:</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tangelo.linq <span class="im">import</span> get_expectation_value_from_frequencies_oneterm</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tangelo.linq.helpers.circuits.measurement_basis <span class="im">import</span> pauli_string_to_of</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rescale counts to obtain frequency histogram</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>freqs <span class="op">=</span> {k:v<span class="op">/</span><span class="dv">100</span> <span class="cf">for</span> k,v <span class="kw">in</span> counts.items()}</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Frequencies: </span><span class="sc">{</span>freqs<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute expectation value for ZZ operator</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>exp_ZZ <span class="op">=</span> get_expectation_value_from_frequencies_oneterm(pauli_string_to_of(<span class="st">"ZZ"</span>), freqs)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Expectation value for ZZ operator </span><span class="sc">{</span>exp_ZZ<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies: {'00': 0.53, '11': 0.47}
Expectation value for ZZ operator 1.0</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>